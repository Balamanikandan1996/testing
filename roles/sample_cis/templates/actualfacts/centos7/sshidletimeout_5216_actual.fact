#!/bin/bash
a=$(cat /etc/ssh/sshd_config | grep "^ClientAliveInterval.*[0-300]")
b=$(cat /etc/ssh/sshd_config | grep "^ClientAliveCountMax.*[0-9]")
cmd="${a}","${b}"
if [ $(sudo grep "^ClientAliveInterval.*[0-300]" /etc/ssh/sshd_config | wc -l) -eq 0 ] || [ $(sudo grep "^ClientAliveCountMax.*[0-9]" /etc/ssh/sshd_config | wc -l) -eq 0 ]; then
   echo "{ \"sshidletimeout_5216_actual\" : \"\" }"
else
   echo "{ \"sshidletimeout_5216_actual\" : \"${cmd}\"}"
   exit 1
fi

